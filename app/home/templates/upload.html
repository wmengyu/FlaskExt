<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
     <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
    <script type="text/javascript">
        $(function () {
            $('#upload_btn').click(function () {
                let formdata = new FormData($('#form')[0]);
                let settings = {
                url: 'http://127.0.0.1:9000/upload/img/',
                type: 'post',
                data: formdata,
                cache: false,
                {#让jQuery的Ajaxa不要去处理数据#}
                {# 上传图片必须要用到的#}
                processData: false,
                {#告诉ajax  不要处理contentType#}
                {# 上传图片必须要用到的#}
                contentType: false,
                {#成功的回调方法#}
                success:function (result) {
                    $('#pic').append($('<img>').attr('src',result.url))
                }
            };

            $.ajax(settings)
        });
            return false
            })


    </script>

</head>
<body>
<form id="form" action="" method="POST" enctype="multipart/form-data">
    <input type="file" id="img" name="img" >
    <input type="button" id="upload_btn" value="上传">

</form>

<div id="pic">

</div>
</body>
</html>